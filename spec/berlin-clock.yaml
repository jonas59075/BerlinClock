openapi: 3.1.0
info:
  title: Berlin Clock API
  version: 1.0.0

paths:
  /berlin-clock:
    get:
      summary: Get current Berlin Clock state
      operationId: getBerlinClockState
      responses:
        '200':
          description: Berlin Clock state based on current system time
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BerlinClockState"

components:
  schemas:

    LampState:
      type: object
      properties:
        active:
          type: boolean
        color:
          type: string
          enum:
            - yellow
            - red
      required:
        - active
        - color

    SecondsState:
      type: object
      properties:
        active:
          type: boolean
        color:
          type: string
          enum:
            - yellow
      required:
        - active
        - color

    HoursState:
      type: object
      properties:
        five:
          type: array
          items:
            type: boolean
          minItems: 4
          maxItems: 4
        one:
          type: array
          items:
            type: boolean
          minItems: 4
          maxItems: 4
      required:
        - five
        - one

    MinutesState:
      type: object
      properties:
        five:
          type: array
          items:
            $ref: "#/components/schemas/LampState"
          minItems: 11
          maxItems: 11
        one:
          type: array
          items:
            type: boolean
          minItems: 4
          maxItems: 4
      required:
        - five
        - one

    BerlinClockState:
      type: object
      properties:
        seconds:
          $ref: "#/components/schemas/SecondsState"
        hours:
          $ref: "#/components/schemas/HoursState"
        minutes:
          $ref: "#/components/schemas/MinutesState"
      required:
        - seconds
        - hours
        - minutes
