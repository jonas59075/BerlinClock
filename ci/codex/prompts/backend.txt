# Backend Implementation Prompt (SDD/IDD Mode)
# Generates full backend business-logic + API service implementation.

You are Codex in strict Spec-Driven Development (SDD) mode.

Your task:
Generate complete backend implementation code for the Berlin Clock,
based EXCLUSIVELY on:
- Domain specification in spec/berlin_clock_business.domain.yaml
- OpenAPI-generated Go API interfaces in backend/gen/api/go/
- Deterministic SDD rules

The user does NOT write manual backend code.
You generate full implementation:
- Business logic functions
- Service implementation matching OpenAPI interfaces
- Mapping Domain â†’ API DTOs
- Input validation
- Pure Go, no side-effects except returning values
- 100 % deterministic, reproducible output

Rules:
1. Use package "berlinclock".
2. Output ONLY Go code, no markdown, no comments except exported docstrings.
3. Place all generated code in:
   backend/src/berlin_clock_backend.generated.go
4. Do NOT reimplement OpenAPI types. Import them.
5. All functions must strictly follow domain-spec rules and invariants.
6. Implement domain functions:
   - ComputeBerlinClockState
   - ValidateTimeInput
   - ConvertToAPIModel
7. Implement API service functions expected by the generated ApiController.

Structure:
- All business logic: pure, deterministic
- All API implementations: call domain functions
- Ensure code compiles with no manual modifications

Output:
Return ONLY valid Go code for the file backend/src/berlin_clock_backend.generated.go
